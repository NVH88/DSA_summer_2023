#include<bits/stdc++.h>
using namespace std;
#define pi pair<int, int>

int n, x, y;
vector<int> a;
vector<pi> seg;
long long f[1000001];

void init() {
    cin >> n >> x >> y;
    a.push_back(0); f[0] = 0;
    for(int i = 1; i <= n; ++i) {
        int j; cin >> j; a.push_back(j); f[i] = 1ll * f[i - 1] + j;
    }
    for(int i = 1; i <= n; ++i) {
        if(a[i] >= x) {
            int l = i;
            while(i <= n && a[i] >= x) ++i;
            --i;
            seg.push_back({l, i});
        }
    }
}

void solve() {
    long long ans = LLONG_MIN;
    pi ds;
    for(pi p : seg) {
        int l = p.first, r = p.second;
        int j = -1, k = l - 1;
        for(int i = l; i <= r; ++i) {
            if(a[i] <= y) {
                for(int pos = max(j, l - 1); pos < i; ++pos) 
                    if(f[pos] < f[k]) k = pos;
                
                j = i;
            }
            if(j != -1 && f[i] - f[k] > ans) {
                ans = f[i] - f[k];
                ds = {k + 1, i};
            }
        }
    }

    cout << ans << endl;
    cout << ds.first << " " << ds.second;
}

int main() {
    ios_base::sync_with_stdio(false); cin.tie(NULL);
    #ifndef ONLINE_JUDGE
    freopen("input.txt", "r", stdin);
    freopen("output.txt", "w", stdout);
    #endif

    init();
    solve();
}
